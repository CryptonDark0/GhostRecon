{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":38,"index":92}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":40,"index":134}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":136},"end":{"line":4,"column":32,"index":168}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.registerForPushNotifications = registerForPushNotifications;\n  exports.sendLocalNotification = sendLocalNotification;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[2], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _api = require(_dependencyMap[4], \"./api\");\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  function registerForPushNotifications() {\n    return _registerForPushNotifications.apply(this, arguments);\n  }\n  function _registerForPushNotifications() {\n    _registerForPushNotifications = (0, _asyncToGenerator.default)(function* () {\n      if (!Device.isDevice) {\n        console.log('Push notifications require a physical device');\n        return null;\n      }\n      var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n        existingStatus = _yield$Notifications$.status;\n      var finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n          status = _yield$Notifications$2.status;\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        return null;\n      }\n      if (_reactNative.Platform.OS === 'android') {\n        yield Notifications.setNotificationChannelAsync('messages', {\n          name: 'Encrypted Messages',\n          importance: Notifications.AndroidImportance.HIGH,\n          vibrationPattern: [0, 250, 250, 250],\n          lightColor: '#00FF41',\n          sound: 'default'\n        });\n        yield Notifications.setNotificationChannelAsync('calls', {\n          name: 'Secure Calls',\n          importance: Notifications.AndroidImportance.MAX,\n          vibrationPattern: [0, 500, 250, 500],\n          lightColor: '#FFB000',\n          sound: 'default'\n        });\n      }\n      try {\n        var tokenData = yield Notifications.getExpoPushTokenAsync({\n          projectId: 'ghostrecon'\n        });\n        var token = tokenData.data;\n        // Register with backend\n        try {\n          yield (0, _api.apiCall)('/notifications/register', {\n            method: 'POST',\n            body: JSON.stringify({\n              push_token: token\n            })\n          });\n        } catch {}\n        return token;\n      } catch {\n        return null;\n      }\n    });\n    return _registerForPushNotifications.apply(this, arguments);\n  }\n  function sendLocalNotification(_x, _x2, _x3) {\n    return _sendLocalNotification.apply(this, arguments);\n  }\n  function _sendLocalNotification() {\n    _sendLocalNotification = (0, _asyncToGenerator.default)(function* (title, body, data) {\n      yield Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data: data || {},\n          sound: 'default'\n        },\n        trigger: null\n      });\n    });\n    return _sendLocalNotification.apply(this, arguments);\n  }\n});","lineCount":125,"map":[[27,2,14,0,"exports"],[27,9,14,0],[27,10,14,0,"registerForPushNotifications"],[27,38,14,0],[27,41,14,0,"registerForPushNotifications"],[27,69,14,0],[28,2,67,0,"exports"],[28,9,67,0],[28,10,67,0,"sendLocalNotification"],[28,31,67,0],[28,34,67,0,"sendLocalNotification"],[28,55,67,0],[29,2,77,1],[29,6,77,1,"_babelRuntimeHelpersAsyncToGenerator"],[29,42,77,1],[29,45,77,1,"require"],[29,52,77,1],[29,53,77,1,"_dependencyMap"],[29,67,77,1],[30,2,77,1],[30,6,77,1,"_asyncToGenerator"],[30,23,77,1],[30,26,77,1,"_interopDefault"],[30,41,77,1],[30,42,77,1,"_babelRuntimeHelpersAsyncToGenerator"],[30,78,77,1],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_expoDevice"],[33,17,2,0],[33,20,2,0,"require"],[33,27,2,0],[33,28,2,0,"_dependencyMap"],[33,42,2,0],[34,2,2,0],[34,6,2,0,"Device"],[34,12,2,0],[34,15,2,0,"_interopNamespace"],[34,32,2,0],[34,33,2,0,"_expoDevice"],[34,44,2,0],[35,2,3,0],[35,6,3,0,"_reactNative"],[35,18,3,0],[35,21,3,0,"require"],[35,28,3,0],[35,29,3,0,"_dependencyMap"],[35,43,3,0],[36,2,4,0],[36,6,4,0,"_api"],[36,10,4,0],[36,13,4,0,"require"],[36,20,4,0],[36,21,4,0,"_dependencyMap"],[36,35,4,0],[37,2,6,0,"Notifications"],[37,15,6,13],[37,16,6,14,"setNotificationHandler"],[37,38,6,36],[37,39,6,37],[38,4,7,2,"handleNotification"],[38,22,7,20],[39,6,7,20],[39,10,7,20,"_ref"],[39,14,7,20],[39,21,7,20,"_asyncToGenerator"],[39,38,7,20],[39,39,7,20,"default"],[39,46,7,20],[39,48,7,22],[40,8,7,22],[40,15,7,35],[41,10,8,4,"shouldShowAlert"],[41,25,8,19],[41,27,8,21],[41,31,8,25],[42,10,9,4,"shouldPlaySound"],[42,25,9,19],[42,27,9,21],[42,31,9,25],[43,10,10,4,"shouldSetBadge"],[43,24,10,18],[43,26,10,20],[44,8,11,2],[44,9,11,3],[45,6,11,3],[45,7,11,4],[46,6,11,4],[46,22,7,2,"handleNotification"],[46,40,7,20,"handleNotification"],[46,41,7,20],[47,8,7,20],[47,15,7,20,"_ref"],[47,19,7,20],[47,20,7,20,"apply"],[47,25,7,20],[47,32,7,20,"arguments"],[47,41,7,20],[48,6,7,20],[49,4,7,20],[50,2,12,0],[50,3,12,1],[50,4,12,2],[51,2,12,3],[51,11,14,22,"registerForPushNotifications"],[51,39,14,50,"registerForPushNotifications"],[51,40,14,50],[52,4,14,50],[52,11,14,50,"_registerForPushNotifications"],[52,40,14,50],[52,41,14,50,"apply"],[52,46,14,50],[52,53,14,50,"arguments"],[52,62,14,50],[53,2,14,50],[54,2,14,50],[54,11,14,50,"_registerForPushNotifications"],[54,41,14,50],[55,4,14,50,"_registerForPushNotifications"],[55,33,14,50],[55,40,14,50,"_asyncToGenerator"],[55,57,14,50],[55,58,14,50,"default"],[55,65,14,50],[55,67,14,7],[55,80,14,77],[56,6,15,2],[56,10,15,6],[56,11,15,7,"Device"],[56,17,15,13],[56,18,15,14,"isDevice"],[56,26,15,22],[56,28,15,24],[57,8,16,4,"console"],[57,15,16,11],[57,16,16,12,"log"],[57,19,16,15],[57,20,16,16],[57,66,16,62],[57,67,16,63],[58,8,17,4],[58,15,17,11],[58,19,17,15],[59,6,18,2],[60,6,20,2],[60,10,20,2,"_yield$Notifications$"],[60,31,20,2],[60,40,20,43,"Notifications"],[60,53,20,56],[60,54,20,57,"getPermissionsAsync"],[60,73,20,76],[60,74,20,77],[60,75,20,78],[61,8,20,18,"existingStatus"],[61,22,20,32],[61,25,20,32,"_yield$Notifications$"],[61,46,20,32],[61,47,20,10,"status"],[61,53,20,16],[62,6,21,2],[62,10,21,6,"finalStatus"],[62,21,21,17],[62,24,21,20,"existingStatus"],[62,38,21,34],[63,6,23,2],[63,10,23,6,"existingStatus"],[63,24,23,20],[63,29,23,25],[63,38,23,34],[63,40,23,36],[64,8,24,4],[64,12,24,4,"_yield$Notifications$2"],[64,34,24,4],[64,43,24,29,"Notifications"],[64,56,24,42],[64,57,24,43,"requestPermissionsAsync"],[64,80,24,66],[64,81,24,67],[64,82,24,68],[65,10,24,12,"status"],[65,16,24,18],[65,19,24,18,"_yield$Notifications$2"],[65,41,24,18],[65,42,24,12,"status"],[65,48,24,18],[66,8,25,4,"finalStatus"],[66,19,25,15],[66,22,25,18,"status"],[66,28,25,24],[67,6,26,2],[68,6,28,2],[68,10,28,6,"finalStatus"],[68,21,28,17],[68,26,28,22],[68,35,28,31],[68,37,28,33],[69,8,29,4],[69,15,29,11],[69,19,29,15],[70,6,30,2],[71,6,32,2],[71,10,32,6,"Platform"],[71,22,32,14],[71,23,32,14,"Platform"],[71,31,32,14],[71,32,32,15,"OS"],[71,34,32,17],[71,39,32,22],[71,48,32,31],[71,50,32,33],[72,8,33,4],[72,14,33,10,"Notifications"],[72,27,33,23],[72,28,33,24,"setNotificationChannelAsync"],[72,55,33,51],[72,56,33,52],[72,66,33,62],[72,68,33,64],[73,10,34,6,"name"],[73,14,34,10],[73,16,34,12],[73,36,34,32],[74,10,35,6,"importance"],[74,20,35,16],[74,22,35,18,"Notifications"],[74,35,35,31],[74,36,35,32,"AndroidImportance"],[74,53,35,49],[74,54,35,50,"HIGH"],[74,58,35,54],[75,10,36,6,"vibrationPattern"],[75,26,36,22],[75,28,36,24],[75,29,36,25],[75,30,36,26],[75,32,36,28],[75,35,36,31],[75,37,36,33],[75,40,36,36],[75,42,36,38],[75,45,36,41],[75,46,36,42],[76,10,37,6,"lightColor"],[76,20,37,16],[76,22,37,18],[76,31,37,27],[77,10,38,6,"sound"],[77,15,38,11],[77,17,38,13],[78,8,39,4],[78,9,39,5],[78,10,39,6],[79,8,40,4],[79,14,40,10,"Notifications"],[79,27,40,23],[79,28,40,24,"setNotificationChannelAsync"],[79,55,40,51],[79,56,40,52],[79,63,40,59],[79,65,40,61],[80,10,41,6,"name"],[80,14,41,10],[80,16,41,12],[80,30,41,26],[81,10,42,6,"importance"],[81,20,42,16],[81,22,42,18,"Notifications"],[81,35,42,31],[81,36,42,32,"AndroidImportance"],[81,53,42,49],[81,54,42,50,"MAX"],[81,57,42,53],[82,10,43,6,"vibrationPattern"],[82,26,43,22],[82,28,43,24],[82,29,43,25],[82,30,43,26],[82,32,43,28],[82,35,43,31],[82,37,43,33],[82,40,43,36],[82,42,43,38],[82,45,43,41],[82,46,43,42],[83,10,44,6,"lightColor"],[83,20,44,16],[83,22,44,18],[83,31,44,27],[84,10,45,6,"sound"],[84,15,45,11],[84,17,45,13],[85,8,46,4],[85,9,46,5],[85,10,46,6],[86,6,47,2],[87,6,49,2],[87,10,49,6],[88,8,50,4],[88,12,50,10,"tokenData"],[88,21,50,19],[88,30,50,28,"Notifications"],[88,43,50,41],[88,44,50,42,"getExpoPushTokenAsync"],[88,65,50,63],[88,66,50,64],[89,10,51,6,"projectId"],[89,19,51,15],[89,21,51,17],[90,8,52,4],[90,9,52,5],[90,10,52,6],[91,8,53,4],[91,12,53,10,"token"],[91,17,53,15],[91,20,53,18,"tokenData"],[91,29,53,27],[91,30,53,28,"data"],[91,34,53,32],[92,8,54,4],[93,8,55,4],[93,12,55,8],[94,10,56,6],[94,16,56,12],[94,20,56,12,"apiCall"],[94,24,56,19],[94,25,56,19,"apiCall"],[94,32,56,19],[94,34,56,20],[94,59,56,45],[94,61,56,47],[95,12,57,8,"method"],[95,18,57,14],[95,20,57,16],[95,26,57,22],[96,12,58,8,"body"],[96,16,58,12],[96,18,58,14,"JSON"],[96,22,58,18],[96,23,58,19,"stringify"],[96,32,58,28],[96,33,58,29],[97,14,58,31,"push_token"],[97,24,58,41],[97,26,58,43,"token"],[98,12,58,49],[98,13,58,50],[99,10,59,6],[99,11,59,7],[99,12,59,8],[100,8,60,4],[100,9,60,5],[100,10,60,6],[100,16,60,12],[100,17,60,13],[101,8,61,4],[101,15,61,11,"token"],[101,20,61,16],[102,6,62,2],[102,7,62,3],[102,8,62,4],[102,14,62,10],[103,8,63,4],[103,15,63,11],[103,19,63,15],[104,6,64,2],[105,4,65,0],[105,5,65,1],[106,4,65,1],[106,11,65,1,"_registerForPushNotifications"],[106,40,65,1],[106,41,65,1,"apply"],[106,46,65,1],[106,53,65,1,"arguments"],[106,62,65,1],[107,2,65,1],[108,2,65,1],[108,11,67,22,"sendLocalNotification"],[108,32,67,43,"sendLocalNotification"],[108,33,67,43,"_x"],[108,35,67,43],[108,37,67,43,"_x2"],[108,40,67,43],[108,42,67,43,"_x3"],[108,45,67,43],[109,4,67,43],[109,11,67,43,"_sendLocalNotification"],[109,33,67,43],[109,34,67,43,"apply"],[109,39,67,43],[109,46,67,43,"arguments"],[109,55,67,43],[110,2,67,43],[111,2,67,43],[111,11,67,43,"_sendLocalNotification"],[111,34,67,43],[112,4,67,43,"_sendLocalNotification"],[112,26,67,43],[112,33,67,43,"_asyncToGenerator"],[112,50,67,43],[112,51,67,43,"default"],[112,58,67,43],[112,60,67,7],[112,71,67,44,"title"],[112,76,67,57],[112,78,67,59,"body"],[112,82,67,71],[112,84,67,73,"data"],[112,88,67,83],[112,90,67,85],[113,6,68,2],[113,12,68,8,"Notifications"],[113,25,68,21],[113,26,68,22,"scheduleNotificationAsync"],[113,51,68,47],[113,52,68,48],[114,8,69,4,"content"],[114,15,69,11],[114,17,69,13],[115,10,70,6,"title"],[115,15,70,11],[116,10,71,6,"body"],[116,14,71,10],[117,10,72,6,"data"],[117,14,72,10],[117,16,72,12,"data"],[117,20,72,16],[117,24,72,20],[117,25,72,21],[117,26,72,22],[118,10,73,6,"sound"],[118,15,73,11],[118,17,73,13],[119,8,74,4],[119,9,74,5],[120,8,75,4,"trigger"],[120,15,75,11],[120,17,75,13],[121,6,76,2],[121,7,76,3],[121,8,76,4],[122,4,77,0],[122,5,77,1],[123,4,77,1],[123,11,77,1,"_sendLocalNotification"],[123,33,77,1],[123,34,77,1,"apply"],[123,39,77,1],[123,46,77,1,"arguments"],[123,55,77,1],[124,2,77,1],[125,0,77,1],[125,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotifications","sendLocalNotification"],"mappings":"AAA;sBCM;IDI;OEG;CFmD;OGE;CHU"},"hasCjsExports":false},"type":"js/module"}]}