{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getToken = getToken;\n  exports.setToken = setToken;\n  exports.getUser = getUser;\n  exports.setUser = setUser;\n  exports.clearAuth = clearAuth;\n  exports.apiCall = apiCall;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _constants = require(_dependencyMap[1], \"./constants\");\n  const TOKEN_KEY = 'ghostrecon_token';\n  const USER_KEY = 'ghostrecon_user';\n  async function getToken() {\n    return AsyncStorage.default.getItem(TOKEN_KEY);\n  }\n  async function setToken(token) {\n    await AsyncStorage.default.setItem(TOKEN_KEY, token);\n  }\n  async function getUser() {\n    const u = await AsyncStorage.default.getItem(USER_KEY);\n    return u ? JSON.parse(u) : null;\n  }\n  async function setUser(user) {\n    await AsyncStorage.default.setItem(USER_KEY, JSON.stringify(user));\n  }\n  async function clearAuth() {\n    await AsyncStorage.default.multiRemove([TOKEN_KEY, USER_KEY]);\n  }\n  async function apiCall(endpoint, options = {}) {\n    const token = await getToken();\n    const headers = {\n      'Content-Type': 'application/json',\n      ...(options.headers || {})\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const res = await fetch(`${_constants.API_BASE}${endpoint}`, {\n      ...options,\n      headers\n    });\n    if (!res.ok) {\n      const err = await res.json().catch(() => ({\n        detail: 'Request failed'\n      }));\n      throw new Error(err.detail || `HTTP ${res.status}`);\n    }\n    return res.json();\n  }\n});","lineCount":60,"map":[[12,2,7,0,"exports"],[12,9,7,0],[12,10,7,0,"getToken"],[12,18,7,0],[12,21,7,0,"getToken"],[12,29,7,0],[13,2,11,0,"exports"],[13,9,11,0],[13,10,11,0,"setToken"],[13,18,11,0],[13,21,11,0,"setToken"],[13,29,11,0],[14,2,15,0,"exports"],[14,9,15,0],[14,10,15,0,"getUser"],[14,17,15,0],[14,20,15,0,"getUser"],[14,27,15,0],[15,2,20,0,"exports"],[15,9,20,0],[15,10,20,0,"setUser"],[15,17,20,0],[15,20,20,0,"setUser"],[15,27,20,0],[16,2,24,0,"exports"],[16,9,24,0],[16,10,24,0,"clearAuth"],[16,19,24,0],[16,22,24,0,"clearAuth"],[16,31,24,0],[17,2,28,0,"exports"],[17,9,28,0],[17,10,28,0,"apiCall"],[17,17,28,0],[17,20,28,0,"apiCall"],[17,27,28,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,2,0],[20,6,2,0,"_constants"],[20,16,2,0],[20,19,2,0,"require"],[20,26,2,0],[20,27,2,0,"_dependencyMap"],[20,41,2,0],[21,2,4,0],[21,8,4,6,"TOKEN_KEY"],[21,17,4,15],[21,20,4,18],[21,38,4,36],[22,2,5,0],[22,8,5,6,"USER_KEY"],[22,16,5,14],[22,19,5,17],[22,36,5,34],[23,2,7,7],[23,17,7,22,"getToken"],[23,25,7,30,"getToken"],[23,26,7,30],[23,28,7,57],[24,4,8,2],[24,11,8,9,"AsyncStorage"],[24,23,8,21],[24,24,8,21,"default"],[24,31,8,21],[24,32,8,22,"getItem"],[24,39,8,29],[24,40,8,30,"TOKEN_KEY"],[24,49,8,39],[24,50,8,40],[25,2,9,0],[26,2,11,7],[26,17,11,22,"setToken"],[26,25,11,30,"setToken"],[26,26,11,31,"token"],[26,31,11,44],[26,33,11,61],[27,4,12,2],[27,10,12,8,"AsyncStorage"],[27,22,12,20],[27,23,12,20,"default"],[27,30,12,20],[27,31,12,21,"setItem"],[27,38,12,28],[27,39,12,29,"TOKEN_KEY"],[27,48,12,38],[27,50,12,40,"token"],[27,55,12,45],[27,56,12,46],[28,2,13,0],[29,2,15,7],[29,17,15,22,"getUser"],[29,24,15,29,"getUser"],[29,25,15,29],[29,27,15,53],[30,4,16,2],[30,10,16,8,"u"],[30,11,16,9],[30,14,16,12],[30,20,16,18,"AsyncStorage"],[30,32,16,30],[30,33,16,30,"default"],[30,40,16,30],[30,41,16,31,"getItem"],[30,48,16,38],[30,49,16,39,"USER_KEY"],[30,57,16,47],[30,58,16,48],[31,4,17,2],[31,11,17,9,"u"],[31,12,17,10],[31,15,17,13,"JSON"],[31,19,17,17],[31,20,17,18,"parse"],[31,25,17,23],[31,26,17,24,"u"],[31,27,17,25],[31,28,17,26],[31,31,17,29],[31,35,17,33],[32,2,18,0],[33,2,20,7],[33,17,20,22,"setUser"],[33,24,20,29,"setUser"],[33,25,20,30,"user"],[33,29,20,39],[33,31,20,56],[34,4,21,2],[34,10,21,8,"AsyncStorage"],[34,22,21,20],[34,23,21,20,"default"],[34,30,21,20],[34,31,21,21,"setItem"],[34,38,21,28],[34,39,21,29,"USER_KEY"],[34,47,21,37],[34,49,21,39,"JSON"],[34,53,21,43],[34,54,21,44,"stringify"],[34,63,21,53],[34,64,21,54,"user"],[34,68,21,58],[34,69,21,59],[34,70,21,60],[35,2,22,0],[36,2,24,7],[36,17,24,22,"clearAuth"],[36,26,24,31,"clearAuth"],[36,27,24,31],[36,29,24,49],[37,4,25,2],[37,10,25,8,"AsyncStorage"],[37,22,25,20],[37,23,25,20,"default"],[37,30,25,20],[37,31,25,21,"multiRemove"],[37,42,25,32],[37,43,25,33],[37,44,25,34,"TOKEN_KEY"],[37,53,25,43],[37,55,25,45,"USER_KEY"],[37,63,25,53],[37,64,25,54],[37,65,25,55],[38,2,26,0],[39,2,28,7],[39,17,28,22,"apiCall"],[39,24,28,29,"apiCall"],[39,25,29,2,"endpoint"],[39,33,29,18],[39,35,30,2,"options"],[39,42,30,22],[39,45,30,25],[39,46,30,26],[39,47,30,27],[39,49,31,16],[40,4,32,2],[40,10,32,8,"token"],[40,15,32,13],[40,18,32,16],[40,24,32,22,"getToken"],[40,32,32,30],[40,33,32,31],[40,34,32,32],[41,4,33,2],[41,10,33,8,"headers"],[41,17,33,39],[41,20,33,42],[42,6,34,4],[42,20,34,18],[42,22,34,20],[42,40,34,38],[43,6,35,4],[43,10,35,8,"options"],[43,17,35,15],[43,18,35,16,"headers"],[43,25,35,23],[43,29,35,53],[43,30,35,54],[43,31,35,55],[44,4,36,2],[44,5,36,3],[45,4,37,2],[45,8,37,6,"token"],[45,13,37,11],[45,15,37,13],[46,6,38,4,"headers"],[46,13,38,11],[46,14,38,12],[46,29,38,27],[46,30,38,28],[46,33,38,31],[46,43,38,41,"token"],[46,48,38,46],[46,50,38,48],[47,4,39,2],[48,4,41,2],[48,10,41,8,"res"],[48,13,41,11],[48,16,41,14],[48,22,41,20,"fetch"],[48,27,41,25],[48,28,41,26],[48,31,41,29,"API_BASE"],[48,41,41,37],[48,42,41,37,"API_BASE"],[48,50,41,37],[48,53,41,40,"endpoint"],[48,61,41,48],[48,63,41,50],[48,65,41,52],[49,6,42,4],[49,9,42,7,"options"],[49,16,42,14],[50,6,43,4,"headers"],[51,4,44,2],[51,5,44,3],[51,6,44,4],[52,4,46,2],[52,8,46,6],[52,9,46,7,"res"],[52,12,46,10],[52,13,46,11,"ok"],[52,15,46,13],[52,17,46,15],[53,6,47,4],[53,12,47,10,"err"],[53,15,47,13],[53,18,47,16],[53,24,47,22,"res"],[53,27,47,25],[53,28,47,26,"json"],[53,32,47,30],[53,33,47,31],[53,34,47,32],[53,35,47,33,"catch"],[53,40,47,38],[53,41,47,39],[53,48,47,46],[54,8,47,48,"detail"],[54,14,47,54],[54,16,47,56],[55,6,47,73],[55,7,47,74],[55,8,47,75],[55,9,47,76],[56,6,48,4],[56,12,48,10],[56,16,48,14,"Error"],[56,21,48,19],[56,22,48,20,"err"],[56,25,48,23],[56,26,48,24,"detail"],[56,32,48,30],[56,36,48,34],[56,44,48,42,"res"],[56,47,48,45],[56,48,48,46,"status"],[56,54,48,52],[56,56,48,54],[56,57,48,55],[57,4,49,2],[58,4,51,2],[58,11,51,9,"res"],[58,14,51,12],[58,15,51,13,"json"],[58,19,51,17],[58,20,51,18],[58,21,51,19],[59,2,52,0],[60,0,52,1],[60,3]],"functionMap":{"names":["<global>","getToken","setToken","getUser","setUser","clearAuth","apiCall","res.json._catch$argument_0"],"mappings":"AAA;OCM;CDE;OEE;CFE;OGE;CHG;OIE;CJE;OKE;CLE;OME;uCCmB,oCD;CNK"},"hasCjsExports":false},"type":"js/module"}]}