{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":71},"end":{"line":2,"column":36,"index":107}}],"key":"apL7GyCxHQJfXSypmIMW0g+q+wo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getToken = getToken;\n  exports.setToken = setToken;\n  exports.getUser = getUser;\n  exports.setUser = setUser;\n  exports.clearAuth = clearAuth;\n  exports.apiCall = apiCall;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _config = require(_dependencyMap[1], \"./config\");\n  const TOKEN_KEY = 'ghostrecon_token';\n  const USER_KEY = 'ghostrecon_user';\n  async function getToken() {\n    return AsyncStorage.default.getItem(TOKEN_KEY);\n  }\n  async function setToken(token) {\n    await AsyncStorage.default.setItem(TOKEN_KEY, token);\n  }\n  async function getUser() {\n    const u = await AsyncStorage.default.getItem(USER_KEY);\n    return u ? JSON.parse(u) : null;\n  }\n  async function setUser(user) {\n    await AsyncStorage.default.setItem(USER_KEY, JSON.stringify(user));\n  }\n  async function clearAuth() {\n    await AsyncStorage.default.multiRemove([TOKEN_KEY, USER_KEY]);\n  }\n  async function apiCall(endpoint, options = {}) {\n    const token = await getToken();\n    const headers = {\n      'Content-Type': 'application/json',\n      ...(options.headers || {})\n    };\n    if (token) headers['Authorization'] = `Bearer ${token}`;\n    console.log('API Request URL:', `${_config.API_BASE}${endpoint}`);\n    console.log('Request options:', options);\n    try {\n      const res = await fetch(`${_config.API_BASE}${endpoint}`, {\n        ...options,\n        headers\n      });\n      const text = await res.text();\n      console.log('Raw response:', text);\n      if (!res.ok) {\n        let errMsg = 'Request failed';\n        try {\n          const parsed = JSON.parse(text);\n          errMsg = parsed.detail || parsed.message || errMsg;\n        } catch {}\n        throw new Error(errMsg);\n      }\n      return JSON.parse(text);\n    } catch (error) {\n      console.error('API Error:', error.message);\n      throw error;\n    }\n  }\n});","lineCount":69,"map":[[12,2,7,0,"exports"],[12,9,7,0],[12,10,7,0,"getToken"],[12,18,7,0],[12,21,7,0,"getToken"],[12,29,7,0],[13,2,11,0,"exports"],[13,9,11,0],[13,10,11,0,"setToken"],[13,18,11,0],[13,21,11,0,"setToken"],[13,29,11,0],[14,2,15,0,"exports"],[14,9,15,0],[14,10,15,0,"getUser"],[14,17,15,0],[14,20,15,0,"getUser"],[14,27,15,0],[15,2,20,0,"exports"],[15,9,20,0],[15,10,20,0,"setUser"],[15,17,20,0],[15,20,20,0,"setUser"],[15,27,20,0],[16,2,24,0,"exports"],[16,9,24,0],[16,10,24,0,"clearAuth"],[16,19,24,0],[16,22,24,0,"clearAuth"],[16,31,24,0],[17,2,28,0,"exports"],[17,9,28,0],[17,10,28,0,"apiCall"],[17,17,28,0],[17,20,28,0,"apiCall"],[17,27,28,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,2,0],[20,6,2,0,"_config"],[20,13,2,0],[20,16,2,0,"require"],[20,23,2,0],[20,24,2,0,"_dependencyMap"],[20,38,2,0],[21,2,4,0],[21,8,4,6,"TOKEN_KEY"],[21,17,4,15],[21,20,4,18],[21,38,4,36],[22,2,5,0],[22,8,5,6,"USER_KEY"],[22,16,5,14],[22,19,5,17],[22,36,5,34],[23,2,7,7],[23,17,7,22,"getToken"],[23,25,7,30,"getToken"],[23,26,7,30],[23,28,7,57],[24,4,8,2],[24,11,8,9,"AsyncStorage"],[24,23,8,21],[24,24,8,21,"default"],[24,31,8,21],[24,32,8,22,"getItem"],[24,39,8,29],[24,40,8,30,"TOKEN_KEY"],[24,49,8,39],[24,50,8,40],[25,2,9,0],[26,2,11,7],[26,17,11,22,"setToken"],[26,25,11,30,"setToken"],[26,26,11,31,"token"],[26,31,11,44],[26,33,11,61],[27,4,12,2],[27,10,12,8,"AsyncStorage"],[27,22,12,20],[27,23,12,20,"default"],[27,30,12,20],[27,31,12,21,"setItem"],[27,38,12,28],[27,39,12,29,"TOKEN_KEY"],[27,48,12,38],[27,50,12,40,"token"],[27,55,12,45],[27,56,12,46],[28,2,13,0],[29,2,15,7],[29,17,15,22,"getUser"],[29,24,15,29,"getUser"],[29,25,15,29],[29,27,15,53],[30,4,16,2],[30,10,16,8,"u"],[30,11,16,9],[30,14,16,12],[30,20,16,18,"AsyncStorage"],[30,32,16,30],[30,33,16,30,"default"],[30,40,16,30],[30,41,16,31,"getItem"],[30,48,16,38],[30,49,16,39,"USER_KEY"],[30,57,16,47],[30,58,16,48],[31,4,17,2],[31,11,17,9,"u"],[31,12,17,10],[31,15,17,13,"JSON"],[31,19,17,17],[31,20,17,18,"parse"],[31,25,17,23],[31,26,17,24,"u"],[31,27,17,25],[31,28,17,26],[31,31,17,29],[31,35,17,33],[32,2,18,0],[33,2,20,7],[33,17,20,22,"setUser"],[33,24,20,29,"setUser"],[33,25,20,30,"user"],[33,29,20,39],[33,31,20,56],[34,4,21,2],[34,10,21,8,"AsyncStorage"],[34,22,21,20],[34,23,21,20,"default"],[34,30,21,20],[34,31,21,21,"setItem"],[34,38,21,28],[34,39,21,29,"USER_KEY"],[34,47,21,37],[34,49,21,39,"JSON"],[34,53,21,43],[34,54,21,44,"stringify"],[34,63,21,53],[34,64,21,54,"user"],[34,68,21,58],[34,69,21,59],[34,70,21,60],[35,2,22,0],[36,2,24,7],[36,17,24,22,"clearAuth"],[36,26,24,31,"clearAuth"],[36,27,24,31],[36,29,24,49],[37,4,25,2],[37,10,25,8,"AsyncStorage"],[37,22,25,20],[37,23,25,20,"default"],[37,30,25,20],[37,31,25,21,"multiRemove"],[37,42,25,32],[37,43,25,33],[37,44,25,34,"TOKEN_KEY"],[37,53,25,43],[37,55,25,45,"USER_KEY"],[37,63,25,53],[37,64,25,54],[37,65,25,55],[38,2,26,0],[39,2,28,7],[39,17,28,22,"apiCall"],[39,24,28,29,"apiCall"],[39,25,29,2,"endpoint"],[39,33,29,18],[39,35,30,2,"options"],[39,42,30,22],[39,45,30,25],[39,46,30,26],[39,47,30,27],[39,49,31,16],[40,4,32,2],[40,10,32,8,"token"],[40,15,32,13],[40,18,32,16],[40,24,32,22,"getToken"],[40,32,32,30],[40,33,32,31],[40,34,32,32],[41,4,33,2],[41,10,33,8,"headers"],[41,17,33,39],[41,20,33,42],[42,6,34,4],[42,20,34,18],[42,22,34,20],[42,40,34,38],[43,6,35,4],[43,10,35,8,"options"],[43,17,35,15],[43,18,35,16,"headers"],[43,25,35,23],[43,29,35,53],[43,30,35,54],[43,31,35,55],[44,4,36,2],[44,5,36,3],[45,4,37,2],[45,8,37,6,"token"],[45,13,37,11],[45,15,37,13,"headers"],[45,22,37,20],[45,23,37,21],[45,38,37,36],[45,39,37,37],[45,42,37,40],[45,52,37,50,"token"],[45,57,37,55],[45,59,37,57],[46,4,39,2,"console"],[46,11,39,9],[46,12,39,10,"log"],[46,15,39,13],[46,16,39,14],[46,34,39,32],[46,36,39,34],[46,39,39,37,"API_BASE"],[46,46,39,45],[46,47,39,45,"API_BASE"],[46,55,39,45],[46,58,39,48,"endpoint"],[46,66,39,56],[46,68,39,58],[46,69,39,59],[47,4,40,2,"console"],[47,11,40,9],[47,12,40,10,"log"],[47,15,40,13],[47,16,40,14],[47,34,40,32],[47,36,40,34,"options"],[47,43,40,41],[47,44,40,42],[48,4,42,2],[48,8,42,6],[49,6,43,4],[49,12,43,10,"res"],[49,15,43,13],[49,18,43,16],[49,24,43,22,"fetch"],[49,29,43,27],[49,30,43,28],[49,33,43,31,"API_BASE"],[49,40,43,39],[49,41,43,39,"API_BASE"],[49,49,43,39],[49,52,43,42,"endpoint"],[49,60,43,50],[49,62,43,52],[49,64,43,54],[50,8,43,56],[50,11,43,59,"options"],[50,18,43,66],[51,8,43,68,"headers"],[52,6,43,76],[52,7,43,77],[52,8,43,78],[53,6,45,4],[53,12,45,10,"text"],[53,16,45,14],[53,19,45,17],[53,25,45,23,"res"],[53,28,45,26],[53,29,45,27,"text"],[53,33,45,31],[53,34,45,32],[53,35,45,33],[54,6,46,4,"console"],[54,13,46,11],[54,14,46,12,"log"],[54,17,46,15],[54,18,46,16],[54,33,46,31],[54,35,46,33,"text"],[54,39,46,37],[54,40,46,38],[55,6,48,4],[55,10,48,8],[55,11,48,9,"res"],[55,14,48,12],[55,15,48,13,"ok"],[55,17,48,15],[55,19,48,17],[56,8,49,6],[56,12,49,10,"errMsg"],[56,18,49,16],[56,21,49,19],[56,37,49,35],[57,8,50,6],[57,12,50,10],[58,10,51,8],[58,16,51,14,"parsed"],[58,22,51,20],[58,25,51,23,"JSON"],[58,29,51,27],[58,30,51,28,"parse"],[58,35,51,33],[58,36,51,34,"text"],[58,40,51,38],[58,41,51,39],[59,10,52,8,"errMsg"],[59,16,52,14],[59,19,52,17,"parsed"],[59,25,52,23],[59,26,52,24,"detail"],[59,32,52,30],[59,36,52,34,"parsed"],[59,42,52,40],[59,43,52,41,"message"],[59,50,52,48],[59,54,52,52,"errMsg"],[59,60,52,58],[60,8,53,6],[60,9,53,7],[60,10,53,8],[60,16,53,14],[60,17,53,15],[61,8,54,6],[61,14,54,12],[61,18,54,16,"Error"],[61,23,54,21],[61,24,54,22,"errMsg"],[61,30,54,28],[61,31,54,29],[62,6,55,4],[63,6,57,4],[63,13,57,11,"JSON"],[63,17,57,15],[63,18,57,16,"parse"],[63,23,57,21],[63,24,57,22,"text"],[63,28,57,26],[63,29,57,27],[64,4,58,2],[64,5,58,3],[64,6,58,4],[64,13,58,11,"error"],[64,18,58,21],[64,20,58,23],[65,6,59,4,"console"],[65,13,59,11],[65,14,59,12,"error"],[65,19,59,17],[65,20,59,18],[65,32,59,30],[65,34,59,32,"error"],[65,39,59,37],[65,40,59,38,"message"],[65,47,59,45],[65,48,59,46],[66,6,60,4],[66,12,60,10,"error"],[66,17,60,15],[67,4,61,2],[68,2,62,0],[69,0,62,1],[69,3]],"functionMap":{"names":["<global>","getToken","setToken","getUser","setUser","clearAuth","apiCall"],"mappings":"AAA;OCM;CDE;OEE;CFE;OGE;CHG;OIE;CJE;OKE;CLE;OME;CNkC"},"hasCjsExports":false},"type":"js/module"}]}