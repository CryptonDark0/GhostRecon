{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":32,"index":165}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotifications = registerForPushNotifications;\n  exports.sendLocalNotification = sendLocalNotification;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _api = require(_dependencyMap[3], \"./api\");\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  async function registerForPushNotifications() {\n    if (!Device.isDevice) {\n      console.log('Push notifications require a physical device');\n      return null;\n    }\n    const {\n      status: existingStatus\n    } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const {\n        status\n      } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      return null;\n    }\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('messages', {\n        name: 'Encrypted Messages',\n        importance: Notifications.AndroidImportance.HIGH,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#00FF41',\n        sound: 'default'\n      });\n      await Notifications.setNotificationChannelAsync('calls', {\n        name: 'Secure Calls',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 500, 250, 500],\n        lightColor: '#FFB000',\n        sound: 'default'\n      });\n    }\n    try {\n      const tokenData = await Notifications.getExpoPushTokenAsync({\n        projectId: 'ghostrecon'\n      });\n      const token = tokenData.data;\n      // Register with backend\n      try {\n        await (0, _api.apiCall)('/notifications/register', {\n          method: 'POST',\n          body: JSON.stringify({\n            push_token: token\n          })\n        });\n      } catch {}\n      return token;\n    } catch {\n      return null;\n    }\n  }\n  async function sendLocalNotification(title, body, data) {\n    await Notifications.scheduleNotificationAsync({\n      content: {\n        title,\n        body,\n        data: data || {},\n        sound: 'default'\n      },\n      trigger: null\n    });\n  }\n});","lineCount":107,"map":[[27,2,14,0,"exports"],[27,9,14,0],[27,10,14,0,"registerForPushNotifications"],[27,38,14,0],[27,41,14,0,"registerForPushNotifications"],[27,69,14,0],[28,2,67,0,"exports"],[28,9,67,0],[28,10,67,0,"sendLocalNotification"],[28,31,67,0],[28,34,67,0,"sendLocalNotification"],[28,55,67,0],[29,2,1,0],[29,6,1,0,"_expoNotifications"],[29,24,1,0],[29,27,1,0,"require"],[29,34,1,0],[29,35,1,0,"_dependencyMap"],[29,49,1,0],[30,2,1,0],[30,6,1,0,"Notifications"],[30,19,1,0],[30,22,1,0,"_interopNamespace"],[30,39,1,0],[30,40,1,0,"_expoNotifications"],[30,58,1,0],[31,2,2,0],[31,6,2,0,"_expoDevice"],[31,17,2,0],[31,20,2,0,"require"],[31,27,2,0],[31,28,2,0,"_dependencyMap"],[31,42,2,0],[32,2,2,0],[32,6,2,0,"Device"],[32,12,2,0],[32,15,2,0,"_interopNamespace"],[32,32,2,0],[32,33,2,0,"_expoDevice"],[32,44,2,0],[33,2,2,38],[33,6,2,38,"_reactNativeWebDistExportsPlatform"],[33,40,2,38],[33,43,2,38,"require"],[33,50,2,38],[33,51,2,38,"_dependencyMap"],[33,65,2,38],[34,2,2,38],[34,6,2,38,"Platform"],[34,14,2,38],[34,17,2,38,"_interopDefault"],[34,32,2,38],[34,33,2,38,"_reactNativeWebDistExportsPlatform"],[34,67,2,38],[35,2,4,0],[35,6,4,0,"_api"],[35,10,4,0],[35,13,4,0,"require"],[35,20,4,0],[35,21,4,0,"_dependencyMap"],[35,35,4,0],[36,2,6,0,"Notifications"],[36,15,6,13],[36,16,6,14,"setNotificationHandler"],[36,38,6,36],[36,39,6,37],[37,4,7,2,"handleNotification"],[37,22,7,20],[37,24,7,22],[37,30,7,22,"handleNotification"],[37,31,7,22],[37,37,7,35],[38,6,8,4,"shouldShowAlert"],[38,21,8,19],[38,23,8,21],[38,27,8,25],[39,6,9,4,"shouldPlaySound"],[39,21,9,19],[39,23,9,21],[39,27,9,25],[40,6,10,4,"shouldSetBadge"],[40,20,10,18],[40,22,10,20],[41,4,11,2],[41,5,11,3],[42,2,12,0],[42,3,12,1],[42,4,12,2],[43,2,14,7],[43,17,14,22,"registerForPushNotifications"],[43,45,14,50,"registerForPushNotifications"],[43,46,14,50],[43,48,14,77],[44,4,15,2],[44,8,15,6],[44,9,15,7,"Device"],[44,15,15,13],[44,16,15,14,"isDevice"],[44,24,15,22],[44,26,15,24],[45,6,16,4,"console"],[45,13,16,11],[45,14,16,12,"log"],[45,17,16,15],[45,18,16,16],[45,64,16,62],[45,65,16,63],[46,6,17,4],[46,13,17,11],[46,17,17,15],[47,4,18,2],[48,4,20,2],[48,10,20,8],[49,6,20,10,"status"],[49,12,20,16],[49,14,20,18,"existingStatus"],[50,4,20,33],[50,5,20,34],[50,8,20,37],[50,14,20,43,"Notifications"],[50,27,20,56],[50,28,20,57,"getPermissionsAsync"],[50,47,20,76],[50,48,20,77],[50,49,20,78],[51,4,21,2],[51,8,21,6,"finalStatus"],[51,19,21,17],[51,22,21,20,"existingStatus"],[51,36,21,34],[52,4,23,2],[52,8,23,6,"existingStatus"],[52,22,23,20],[52,27,23,25],[52,36,23,34],[52,38,23,36],[53,6,24,4],[53,12,24,10],[54,8,24,12,"status"],[55,6,24,19],[55,7,24,20],[55,10,24,23],[55,16,24,29,"Notifications"],[55,29,24,42],[55,30,24,43,"requestPermissionsAsync"],[55,53,24,66],[55,54,24,67],[55,55,24,68],[56,6,25,4,"finalStatus"],[56,17,25,15],[56,20,25,18,"status"],[56,26,25,24],[57,4,26,2],[58,4,28,2],[58,8,28,6,"finalStatus"],[58,19,28,17],[58,24,28,22],[58,33,28,31],[58,35,28,33],[59,6,29,4],[59,13,29,11],[59,17,29,15],[60,4,30,2],[61,4,32,2],[61,8,32,6,"Platform"],[61,16,32,14],[61,17,32,14,"default"],[61,24,32,14],[61,25,32,15,"OS"],[61,27,32,17],[61,32,32,22],[61,41,32,31],[61,43,32,33],[62,6,33,4],[62,12,33,10,"Notifications"],[62,25,33,23],[62,26,33,24,"setNotificationChannelAsync"],[62,53,33,51],[62,54,33,52],[62,64,33,62],[62,66,33,64],[63,8,34,6,"name"],[63,12,34,10],[63,14,34,12],[63,34,34,32],[64,8,35,6,"importance"],[64,18,35,16],[64,20,35,18,"Notifications"],[64,33,35,31],[64,34,35,32,"AndroidImportance"],[64,51,35,49],[64,52,35,50,"HIGH"],[64,56,35,54],[65,8,36,6,"vibrationPattern"],[65,24,36,22],[65,26,36,24],[65,27,36,25],[65,28,36,26],[65,30,36,28],[65,33,36,31],[65,35,36,33],[65,38,36,36],[65,40,36,38],[65,43,36,41],[65,44,36,42],[66,8,37,6,"lightColor"],[66,18,37,16],[66,20,37,18],[66,29,37,27],[67,8,38,6,"sound"],[67,13,38,11],[67,15,38,13],[68,6,39,4],[68,7,39,5],[68,8,39,6],[69,6,40,4],[69,12,40,10,"Notifications"],[69,25,40,23],[69,26,40,24,"setNotificationChannelAsync"],[69,53,40,51],[69,54,40,52],[69,61,40,59],[69,63,40,61],[70,8,41,6,"name"],[70,12,41,10],[70,14,41,12],[70,28,41,26],[71,8,42,6,"importance"],[71,18,42,16],[71,20,42,18,"Notifications"],[71,33,42,31],[71,34,42,32,"AndroidImportance"],[71,51,42,49],[71,52,42,50,"MAX"],[71,55,42,53],[72,8,43,6,"vibrationPattern"],[72,24,43,22],[72,26,43,24],[72,27,43,25],[72,28,43,26],[72,30,43,28],[72,33,43,31],[72,35,43,33],[72,38,43,36],[72,40,43,38],[72,43,43,41],[72,44,43,42],[73,8,44,6,"lightColor"],[73,18,44,16],[73,20,44,18],[73,29,44,27],[74,8,45,6,"sound"],[74,13,45,11],[74,15,45,13],[75,6,46,4],[75,7,46,5],[75,8,46,6],[76,4,47,2],[77,4,49,2],[77,8,49,6],[78,6,50,4],[78,12,50,10,"tokenData"],[78,21,50,19],[78,24,50,22],[78,30,50,28,"Notifications"],[78,43,50,41],[78,44,50,42,"getExpoPushTokenAsync"],[78,65,50,63],[78,66,50,64],[79,8,51,6,"projectId"],[79,17,51,15],[79,19,51,17],[80,6,52,4],[80,7,52,5],[80,8,52,6],[81,6,53,4],[81,12,53,10,"token"],[81,17,53,15],[81,20,53,18,"tokenData"],[81,29,53,27],[81,30,53,28,"data"],[81,34,53,32],[82,6,54,4],[83,6,55,4],[83,10,55,8],[84,8,56,6],[84,14,56,12],[84,18,56,12,"apiCall"],[84,22,56,19],[84,23,56,19,"apiCall"],[84,30,56,19],[84,32,56,20],[84,57,56,45],[84,59,56,47],[85,10,57,8,"method"],[85,16,57,14],[85,18,57,16],[85,24,57,22],[86,10,58,8,"body"],[86,14,58,12],[86,16,58,14,"JSON"],[86,20,58,18],[86,21,58,19,"stringify"],[86,30,58,28],[86,31,58,29],[87,12,58,31,"push_token"],[87,22,58,41],[87,24,58,43,"token"],[88,10,58,49],[88,11,58,50],[89,8,59,6],[89,9,59,7],[89,10,59,8],[90,6,60,4],[90,7,60,5],[90,8,60,6],[90,14,60,12],[90,15,60,13],[91,6,61,4],[91,13,61,11,"token"],[91,18,61,16],[92,4,62,2],[92,5,62,3],[92,6,62,4],[92,12,62,10],[93,6,63,4],[93,13,63,11],[93,17,63,15],[94,4,64,2],[95,2,65,0],[96,2,67,7],[96,17,67,22,"sendLocalNotification"],[96,38,67,43,"sendLocalNotification"],[96,39,67,44,"title"],[96,44,67,57],[96,46,67,59,"body"],[96,50,67,71],[96,52,67,73,"data"],[96,56,67,83],[96,58,67,85],[97,4,68,2],[97,10,68,8,"Notifications"],[97,23,68,21],[97,24,68,22,"scheduleNotificationAsync"],[97,49,68,47],[97,50,68,48],[98,6,69,4,"content"],[98,13,69,11],[98,15,69,13],[99,8,70,6,"title"],[99,13,70,11],[100,8,71,6,"body"],[100,12,71,10],[101,8,72,6,"data"],[101,12,72,10],[101,14,72,12,"data"],[101,18,72,16],[101,22,72,20],[101,23,72,21],[101,24,72,22],[102,8,73,6,"sound"],[102,13,73,11],[102,15,73,13],[103,6,74,4],[103,7,74,5],[104,6,75,4,"trigger"],[104,13,75,11],[104,15,75,13],[105,4,76,2],[105,5,76,3],[105,6,76,4],[106,2,77,0],[107,0,77,1],[107,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotifications","sendLocalNotification"],"mappings":"AAA;sBCM;IDI;OEG;CFmD;OGE;CHU"},"hasCjsExports":false},"type":"js/module"}]}