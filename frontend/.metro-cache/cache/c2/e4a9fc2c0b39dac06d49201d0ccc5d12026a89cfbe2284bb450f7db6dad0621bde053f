{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":71},"end":{"line":2,"column":36,"index":107}}],"key":"apL7GyCxHQJfXSypmIMW0g+q+wo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getToken = getToken;\n  exports.setToken = setToken;\n  exports.getUser = getUser;\n  exports.setUser = setUser;\n  exports.clearAuth = clearAuth;\n  exports.apiCall = apiCall;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _config = require(_dependencyMap[2], \"./config\");\n  var TOKEN_KEY = 'ghostrecon_token';\n  var USER_KEY = 'ghostrecon_user';\n  function getToken() {\n    return _getToken.apply(this, arguments);\n  }\n  function _getToken() {\n    _getToken = (0, _asyncToGenerator.default)(function* () {\n      return AsyncStorage.default.getItem(TOKEN_KEY);\n    });\n    return _getToken.apply(this, arguments);\n  }\n  function setToken(_x) {\n    return _setToken.apply(this, arguments);\n  }\n  function _setToken() {\n    _setToken = (0, _asyncToGenerator.default)(function* (token) {\n      yield AsyncStorage.default.setItem(TOKEN_KEY, token);\n    });\n    return _setToken.apply(this, arguments);\n  }\n  function getUser() {\n    return _getUser.apply(this, arguments);\n  }\n  function _getUser() {\n    _getUser = (0, _asyncToGenerator.default)(function* () {\n      var u = yield AsyncStorage.default.getItem(USER_KEY);\n      return u ? JSON.parse(u) : null;\n    });\n    return _getUser.apply(this, arguments);\n  }\n  function setUser(_x2) {\n    return _setUser.apply(this, arguments);\n  }\n  function _setUser() {\n    _setUser = (0, _asyncToGenerator.default)(function* (user) {\n      yield AsyncStorage.default.setItem(USER_KEY, JSON.stringify(user));\n    });\n    return _setUser.apply(this, arguments);\n  }\n  function clearAuth() {\n    return _clearAuth.apply(this, arguments);\n  }\n  function _clearAuth() {\n    _clearAuth = (0, _asyncToGenerator.default)(function* () {\n      yield AsyncStorage.default.multiRemove([TOKEN_KEY, USER_KEY]);\n    });\n    return _clearAuth.apply(this, arguments);\n  }\n  function apiCall(_x3) {\n    return _apiCall.apply(this, arguments);\n  }\n  function _apiCall() {\n    _apiCall = (0, _asyncToGenerator.default)(function* (endpoint) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var token = yield getToken();\n      var headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n      var res = yield fetch(`${_config.API_BASE}${endpoint}`, {\n        ...options,\n        headers\n      });\n      if (!res.ok) {\n        var err = yield res.json().catch(() => ({\n          detail: 'Request failed'\n        }));\n        throw new Error(err.detail || `HTTP ${res.status}`);\n      }\n      return res.json();\n    });\n    return _apiCall.apply(this, arguments);\n  }\n});","lineCount":99,"map":[[12,2,7,0,"exports"],[12,9,7,0],[12,10,7,0,"getToken"],[12,18,7,0],[12,21,7,0,"getToken"],[12,29,7,0],[13,2,11,0,"exports"],[13,9,11,0],[13,10,11,0,"setToken"],[13,18,11,0],[13,21,11,0,"setToken"],[13,29,11,0],[14,2,15,0,"exports"],[14,9,15,0],[14,10,15,0,"getUser"],[14,17,15,0],[14,20,15,0,"getUser"],[14,27,15,0],[15,2,20,0,"exports"],[15,9,20,0],[15,10,20,0,"setUser"],[15,17,20,0],[15,20,20,0,"setUser"],[15,27,20,0],[16,2,24,0,"exports"],[16,9,24,0],[16,10,24,0,"clearAuth"],[16,19,24,0],[16,22,24,0,"clearAuth"],[16,31,24,0],[17,2,28,0,"exports"],[17,9,28,0],[17,10,28,0,"apiCall"],[17,17,28,0],[17,20,28,0,"apiCall"],[17,27,28,0],[18,2,52,1],[18,6,52,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,52,1],[18,45,52,1,"require"],[18,52,52,1],[18,53,52,1,"_dependencyMap"],[18,67,52,1],[19,2,52,1],[19,6,52,1,"_asyncToGenerator"],[19,23,52,1],[19,26,52,1,"_interopDefault"],[19,41,52,1],[19,42,52,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,52,1],[20,2,1,0],[20,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,1,0],[20,45,1,0,"require"],[20,52,1,0],[20,53,1,0,"_dependencyMap"],[20,67,1,0],[21,2,1,0],[21,6,1,0,"AsyncStorage"],[21,18,1,0],[21,21,1,0,"_interopDefault"],[21,36,1,0],[21,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,1,0],[22,2,2,0],[22,6,2,0,"_config"],[22,13,2,0],[22,16,2,0,"require"],[22,23,2,0],[22,24,2,0,"_dependencyMap"],[22,38,2,0],[23,2,4,0],[23,6,4,6,"TOKEN_KEY"],[23,15,4,15],[23,18,4,18],[23,36,4,36],[24,2,5,0],[24,6,5,6,"USER_KEY"],[24,14,5,14],[24,17,5,17],[24,34,5,34],[25,2,5,35],[25,11,7,22,"getToken"],[25,19,7,30,"getToken"],[25,20,7,30],[26,4,7,30],[26,11,7,30,"_getToken"],[26,20,7,30],[26,21,7,30,"apply"],[26,26,7,30],[26,33,7,30,"arguments"],[26,42,7,30],[27,2,7,30],[28,2,7,30],[28,11,7,30,"_getToken"],[28,21,7,30],[29,4,7,30,"_getToken"],[29,13,7,30],[29,20,7,30,"_asyncToGenerator"],[29,37,7,30],[29,38,7,30,"default"],[29,45,7,30],[29,47,7,7],[29,60,7,57],[30,6,8,2],[30,13,8,9,"AsyncStorage"],[30,25,8,21],[30,26,8,21,"default"],[30,33,8,21],[30,34,8,22,"getItem"],[30,41,8,29],[30,42,8,30,"TOKEN_KEY"],[30,51,8,39],[30,52,8,40],[31,4,9,0],[31,5,9,1],[32,4,9,1],[32,11,9,1,"_getToken"],[32,20,9,1],[32,21,9,1,"apply"],[32,26,9,1],[32,33,9,1,"arguments"],[32,42,9,1],[33,2,9,1],[34,2,9,1],[34,11,11,22,"setToken"],[34,19,11,30,"setToken"],[34,20,11,30,"_x"],[34,22,11,30],[35,4,11,30],[35,11,11,30,"_setToken"],[35,20,11,30],[35,21,11,30,"apply"],[35,26,11,30],[35,33,11,30,"arguments"],[35,42,11,30],[36,2,11,30],[37,2,11,30],[37,11,11,30,"_setToken"],[37,21,11,30],[38,4,11,30,"_setToken"],[38,13,11,30],[38,20,11,30,"_asyncToGenerator"],[38,37,11,30],[38,38,11,30,"default"],[38,45,11,30],[38,47,11,7],[38,58,11,31,"token"],[38,63,11,44],[38,65,11,61],[39,6,12,2],[39,12,12,8,"AsyncStorage"],[39,24,12,20],[39,25,12,20,"default"],[39,32,12,20],[39,33,12,21,"setItem"],[39,40,12,28],[39,41,12,29,"TOKEN_KEY"],[39,50,12,38],[39,52,12,40,"token"],[39,57,12,45],[39,58,12,46],[40,4,13,0],[40,5,13,1],[41,4,13,1],[41,11,13,1,"_setToken"],[41,20,13,1],[41,21,13,1,"apply"],[41,26,13,1],[41,33,13,1,"arguments"],[41,42,13,1],[42,2,13,1],[43,2,13,1],[43,11,15,22,"getUser"],[43,18,15,29,"getUser"],[43,19,15,29],[44,4,15,29],[44,11,15,29,"_getUser"],[44,19,15,29],[44,20,15,29,"apply"],[44,25,15,29],[44,32,15,29,"arguments"],[44,41,15,29],[45,2,15,29],[46,2,15,29],[46,11,15,29,"_getUser"],[46,20,15,29],[47,4,15,29,"_getUser"],[47,12,15,29],[47,19,15,29,"_asyncToGenerator"],[47,36,15,29],[47,37,15,29,"default"],[47,44,15,29],[47,46,15,7],[47,59,15,53],[48,6,16,2],[48,10,16,8,"u"],[48,11,16,9],[48,20,16,18,"AsyncStorage"],[48,32,16,30],[48,33,16,30,"default"],[48,40,16,30],[48,41,16,31,"getItem"],[48,48,16,38],[48,49,16,39,"USER_KEY"],[48,57,16,47],[48,58,16,48],[49,6,17,2],[49,13,17,9,"u"],[49,14,17,10],[49,17,17,13,"JSON"],[49,21,17,17],[49,22,17,18,"parse"],[49,27,17,23],[49,28,17,24,"u"],[49,29,17,25],[49,30,17,26],[49,33,17,29],[49,37,17,33],[50,4,18,0],[50,5,18,1],[51,4,18,1],[51,11,18,1,"_getUser"],[51,19,18,1],[51,20,18,1,"apply"],[51,25,18,1],[51,32,18,1,"arguments"],[51,41,18,1],[52,2,18,1],[53,2,18,1],[53,11,20,22,"setUser"],[53,18,20,29,"setUser"],[53,19,20,29,"_x2"],[53,22,20,29],[54,4,20,29],[54,11,20,29,"_setUser"],[54,19,20,29],[54,20,20,29,"apply"],[54,25,20,29],[54,32,20,29,"arguments"],[54,41,20,29],[55,2,20,29],[56,2,20,29],[56,11,20,29,"_setUser"],[56,20,20,29],[57,4,20,29,"_setUser"],[57,12,20,29],[57,19,20,29,"_asyncToGenerator"],[57,36,20,29],[57,37,20,29,"default"],[57,44,20,29],[57,46,20,7],[57,57,20,30,"user"],[57,61,20,39],[57,63,20,56],[58,6,21,2],[58,12,21,8,"AsyncStorage"],[58,24,21,20],[58,25,21,20,"default"],[58,32,21,20],[58,33,21,21,"setItem"],[58,40,21,28],[58,41,21,29,"USER_KEY"],[58,49,21,37],[58,51,21,39,"JSON"],[58,55,21,43],[58,56,21,44,"stringify"],[58,65,21,53],[58,66,21,54,"user"],[58,70,21,58],[58,71,21,59],[58,72,21,60],[59,4,22,0],[59,5,22,1],[60,4,22,1],[60,11,22,1,"_setUser"],[60,19,22,1],[60,20,22,1,"apply"],[60,25,22,1],[60,32,22,1,"arguments"],[60,41,22,1],[61,2,22,1],[62,2,22,1],[62,11,24,22,"clearAuth"],[62,20,24,31,"clearAuth"],[62,21,24,31],[63,4,24,31],[63,11,24,31,"_clearAuth"],[63,21,24,31],[63,22,24,31,"apply"],[63,27,24,31],[63,34,24,31,"arguments"],[63,43,24,31],[64,2,24,31],[65,2,24,31],[65,11,24,31,"_clearAuth"],[65,22,24,31],[66,4,24,31,"_clearAuth"],[66,14,24,31],[66,21,24,31,"_asyncToGenerator"],[66,38,24,31],[66,39,24,31,"default"],[66,46,24,31],[66,48,24,7],[66,61,24,49],[67,6,25,2],[67,12,25,8,"AsyncStorage"],[67,24,25,20],[67,25,25,20,"default"],[67,32,25,20],[67,33,25,21,"multiRemove"],[67,44,25,32],[67,45,25,33],[67,46,25,34,"TOKEN_KEY"],[67,55,25,43],[67,57,25,45,"USER_KEY"],[67,65,25,53],[67,66,25,54],[67,67,25,55],[68,4,26,0],[68,5,26,1],[69,4,26,1],[69,11,26,1,"_clearAuth"],[69,21,26,1],[69,22,26,1,"apply"],[69,27,26,1],[69,34,26,1,"arguments"],[69,43,26,1],[70,2,26,1],[71,2,26,1],[71,11,28,22,"apiCall"],[71,18,28,29,"apiCall"],[71,19,28,29,"_x3"],[71,22,28,29],[72,4,28,29],[72,11,28,29,"_apiCall"],[72,19,28,29],[72,20,28,29,"apply"],[72,25,28,29],[72,32,28,29,"arguments"],[72,41,28,29],[73,2,28,29],[74,2,28,29],[74,11,28,29,"_apiCall"],[74,20,28,29],[75,4,28,29,"_apiCall"],[75,12,28,29],[75,19,28,29,"_asyncToGenerator"],[75,36,28,29],[75,37,28,29,"default"],[75,44,28,29],[75,46,28,7],[75,57,29,2,"endpoint"],[75,65,29,18],[75,67,31,16],[76,6,31,16],[76,10,30,2,"options"],[76,17,30,22],[76,20,30,22,"arguments"],[76,29,30,22],[76,30,30,22,"length"],[76,36,30,22],[76,44,30,22,"arguments"],[76,53,30,22],[76,61,30,22,"undefined"],[76,70,30,22],[76,73,30,22,"arguments"],[76,82,30,22],[76,88,30,25],[76,89,30,26],[76,90,30,27],[77,6,32,2],[77,10,32,8,"token"],[77,15,32,13],[77,24,32,22,"getToken"],[77,32,32,30],[77,33,32,31],[77,34,32,32],[78,6,33,2],[78,10,33,8,"headers"],[78,17,33,39],[78,20,33,42],[79,8,34,4],[79,22,34,18],[79,24,34,20],[79,42,34,38],[80,8,35,4],[80,12,35,8,"options"],[80,19,35,15],[80,20,35,16,"headers"],[80,27,35,23],[80,31,35,53],[80,32,35,54],[80,33,35,55],[81,6,36,2],[81,7,36,3],[82,6,37,2],[82,10,37,6,"token"],[82,15,37,11],[82,17,37,13],[83,8,38,4,"headers"],[83,15,38,11],[83,16,38,12],[83,31,38,27],[83,32,38,28],[83,35,38,31],[83,45,38,41,"token"],[83,50,38,46],[83,52,38,48],[84,6,39,2],[85,6,41,2],[85,10,41,8,"res"],[85,13,41,11],[85,22,41,20,"fetch"],[85,27,41,25],[85,28,41,26],[85,31,41,29,"API_BASE"],[85,38,41,37],[85,39,41,37,"API_BASE"],[85,47,41,37],[85,50,41,40,"endpoint"],[85,58,41,48],[85,60,41,50],[85,62,41,52],[86,8,42,4],[86,11,42,7,"options"],[86,18,42,14],[87,8,43,4,"headers"],[88,6,44,2],[88,7,44,3],[88,8,44,4],[89,6,46,2],[89,10,46,6],[89,11,46,7,"res"],[89,14,46,10],[89,15,46,11,"ok"],[89,17,46,13],[89,19,46,15],[90,8,47,4],[90,12,47,10,"err"],[90,15,47,13],[90,24,47,22,"res"],[90,27,47,25],[90,28,47,26,"json"],[90,32,47,30],[90,33,47,31],[90,34,47,32],[90,35,47,33,"catch"],[90,40,47,38],[90,41,47,39],[90,48,47,46],[91,10,47,48,"detail"],[91,16,47,54],[91,18,47,56],[92,8,47,73],[92,9,47,74],[92,10,47,75],[92,11,47,76],[93,8,48,4],[93,14,48,10],[93,18,48,14,"Error"],[93,23,48,19],[93,24,48,20,"err"],[93,27,48,23],[93,28,48,24,"detail"],[93,34,48,30],[93,38,48,34],[93,46,48,42,"res"],[93,49,48,45],[93,50,48,46,"status"],[93,56,48,52],[93,58,48,54],[93,59,48,55],[94,6,49,2],[95,6,51,2],[95,13,51,9,"res"],[95,16,51,12],[95,17,51,13,"json"],[95,21,51,17],[95,22,51,18],[95,23,51,19],[96,4,52,0],[96,5,52,1],[97,4,52,1],[97,11,52,1,"_apiCall"],[97,19,52,1],[97,20,52,1,"apply"],[97,25,52,1],[97,32,52,1,"arguments"],[97,41,52,1],[98,2,52,1],[99,0,52,1],[99,3]],"functionMap":{"names":["<global>","getToken","setToken","getUser","setUser","clearAuth","apiCall","res.json._catch$argument_0"],"mappings":"AAA;OCM;CDE;OEE;CFE;OGE;CHG;OIE;CJE;OKE;CLE;OME;uCCmB,oCD;CNK"},"hasCjsExports":false},"type":"js/module"}]}