{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.apiCall = apiCall;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  function apiCall(_x) {\n    return _apiCall.apply(this, arguments);\n  }\n  function _apiCall() {\n    _apiCall = (0, _asyncToGenerator.default)(function* (endpoint) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var token = yield getToken();\n      var headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (token) headers['Authorization'] = `Bearer ${token}`;\n\n      // Log for debugging\n      console.log('API Request URL:', `${API_BASE}${endpoint}`);\n      console.log('Request options:', options);\n      try {\n        var res = yield fetch(`${API_BASE}${endpoint}`, {\n          ...options,\n          headers\n        });\n\n        // Read raw response text for debugging\n        var text = yield res.text();\n        console.log('Raw response:', text);\n\n        // Check if response is ok\n        if (!res.ok) {\n          var errMsg = 'Request failed';\n          try {\n            var parsed = JSON.parse(text);\n            errMsg = parsed.detail || parsed.message || errMsg;\n          } catch {}\n          throw new Error(errMsg);\n        }\n\n        // Parse JSON safely\n        return JSON.parse(text);\n      } catch (error) {\n        console.error('API Error:', error.message);\n        throw error;\n      }\n    });\n    return _apiCall.apply(this, arguments);\n  }\n});","lineCount":60,"map":[[12,2,1,0,"exports"],[12,9,1,0],[12,10,1,0,"apiCall"],[12,17,1,0],[12,20,1,0,"apiCall"],[12,27,1,0],[13,2,39,1],[13,6,39,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,39,1],[13,45,39,1,"require"],[13,52,39,1],[13,53,39,1,"_dependencyMap"],[13,67,39,1],[14,2,39,1],[14,6,39,1,"_asyncToGenerator"],[14,23,39,1],[14,26,39,1,"_interopDefault"],[14,41,39,1],[14,42,39,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,39,1],[15,2,39,1],[15,11,1,22,"apiCall"],[15,18,1,29,"apiCall"],[15,19,1,29,"_x"],[15,21,1,29],[16,4,1,29],[16,11,1,29,"_apiCall"],[16,19,1,29],[16,20,1,29,"apply"],[16,25,1,29],[16,32,1,29,"arguments"],[16,41,1,29],[17,2,1,29],[18,2,1,29],[18,11,1,29,"_apiCall"],[18,20,1,29],[19,4,1,29,"_apiCall"],[19,12,1,29],[19,19,1,29,"_asyncToGenerator"],[19,36,1,29],[19,37,1,29,"default"],[19,44,1,29],[19,46,1,7],[19,57,2,2,"endpoint"],[19,65,2,18],[19,67,4,16],[20,6,4,16],[20,10,3,2,"options"],[20,17,3,22],[20,20,3,22,"arguments"],[20,29,3,22],[20,30,3,22,"length"],[20,36,3,22],[20,44,3,22,"arguments"],[20,53,3,22],[20,61,3,22,"undefined"],[20,70,3,22],[20,73,3,22,"arguments"],[20,82,3,22],[20,88,3,25],[20,89,3,26],[20,90,3,27],[21,6,5,2],[21,10,5,8,"token"],[21,15,5,13],[21,24,5,22,"getToken"],[21,32,5,30],[21,33,5,31],[21,34,5,32],[22,6,6,2],[22,10,6,8,"headers"],[22,17,6,39],[22,20,6,42],[23,8,7,4],[23,22,7,18],[23,24,7,20],[23,42,7,38],[24,8,8,4],[24,12,8,8,"options"],[24,19,8,15],[24,20,8,16,"headers"],[24,27,8,23],[24,31,8,53],[24,32,8,54],[24,33,8,55],[25,6,9,2],[25,7,9,3],[26,6,10,2],[26,10,10,6,"token"],[26,15,10,11],[26,17,10,13,"headers"],[26,24,10,20],[26,25,10,21],[26,40,10,36],[26,41,10,37],[26,44,10,40],[26,54,10,50,"token"],[26,59,10,55],[26,61,10,57],[28,6,12,2],[29,6,13,2,"console"],[29,13,13,9],[29,14,13,10,"log"],[29,17,13,13],[29,18,13,14],[29,36,13,32],[29,38,13,34],[29,41,13,37,"API_BASE"],[29,49,13,45],[29,52,13,48,"endpoint"],[29,60,13,56],[29,62,13,58],[29,63,13,59],[30,6,14,2,"console"],[30,13,14,9],[30,14,14,10,"log"],[30,17,14,13],[30,18,14,14],[30,36,14,32],[30,38,14,34,"options"],[30,45,14,41],[30,46,14,42],[31,6,16,2],[31,10,16,6],[32,8,17,4],[32,12,17,10,"res"],[32,15,17,13],[32,24,17,22,"fetch"],[32,29,17,27],[32,30,17,28],[32,33,17,31,"API_BASE"],[32,41,17,39],[32,44,17,42,"endpoint"],[32,52,17,50],[32,54,17,52],[32,56,17,54],[33,10,17,56],[33,13,17,59,"options"],[33,20,17,66],[34,10,17,68,"headers"],[35,8,17,76],[35,9,17,77],[35,10,17,78],[37,8,19,4],[38,8,20,4],[38,12,20,10,"text"],[38,16,20,14],[38,25,20,23,"res"],[38,28,20,26],[38,29,20,27,"text"],[38,33,20,31],[38,34,20,32],[38,35,20,33],[39,8,21,4,"console"],[39,15,21,11],[39,16,21,12,"log"],[39,19,21,15],[39,20,21,16],[39,35,21,31],[39,37,21,33,"text"],[39,41,21,37],[39,42,21,38],[41,8,23,4],[42,8,24,4],[42,12,24,8],[42,13,24,9,"res"],[42,16,24,12],[42,17,24,13,"ok"],[42,19,24,15],[42,21,24,17],[43,10,25,6],[43,14,25,10,"errMsg"],[43,20,25,16],[43,23,25,19],[43,39,25,35],[44,10,26,6],[44,14,26,10],[45,12,27,8],[45,16,27,14,"parsed"],[45,22,27,20],[45,25,27,23,"JSON"],[45,29,27,27],[45,30,27,28,"parse"],[45,35,27,33],[45,36,27,34,"text"],[45,40,27,38],[45,41,27,39],[46,12,28,8,"errMsg"],[46,18,28,14],[46,21,28,17,"parsed"],[46,27,28,23],[46,28,28,24,"detail"],[46,34,28,30],[46,38,28,34,"parsed"],[46,44,28,40],[46,45,28,41,"message"],[46,52,28,48],[46,56,28,52,"errMsg"],[46,62,28,58],[47,10,29,6],[47,11,29,7],[47,12,29,8],[47,18,29,14],[47,19,29,15],[48,10,30,6],[48,16,30,12],[48,20,30,16,"Error"],[48,25,30,21],[48,26,30,22,"errMsg"],[48,32,30,28],[48,33,30,29],[49,8,31,4],[51,8,33,4],[52,8,34,4],[52,15,34,11,"JSON"],[52,19,34,15],[52,20,34,16,"parse"],[52,25,34,21],[52,26,34,22,"text"],[52,30,34,26],[52,31,34,27],[53,6,35,2],[53,7,35,3],[53,8,35,4],[53,15,35,11,"error"],[53,20,35,21],[53,22,35,23],[54,8,36,4,"console"],[54,15,36,11],[54,16,36,12,"error"],[54,21,36,17],[54,22,36,18],[54,34,36,30],[54,36,36,32,"error"],[54,41,36,37],[54,42,36,38,"message"],[54,49,36,45],[54,50,36,46],[55,8,37,4],[55,14,37,10,"error"],[55,19,37,15],[56,6,38,2],[57,4,39,0],[57,5,39,1],[58,4,39,1],[58,11,39,1,"_apiCall"],[58,19,39,1],[58,20,39,1,"apply"],[58,25,39,1],[58,32,39,1,"arguments"],[58,41,39,1],[59,2,39,1],[60,0,39,1],[60,3]],"functionMap":{"names":["<global>","apiCall"],"mappings":"AAA,OC;CDsC"},"hasCjsExports":false},"type":"js/module"}]}